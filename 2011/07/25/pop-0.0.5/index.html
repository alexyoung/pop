<!DOCTYPE html><html lang="en"><head><title>Pop 0.0.5</title><link href="/stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css"><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/feed.rss"><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml"></head><body><header id="header"><hgroup><h1><a href="/">Pop Blog</a></h1></hgroup><hgroup><a href="http://github.com/alexyoung/pop"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/assets.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub"></a>
</hgroup></header><nav id="breadcrumb"><a href="/" class="read-more">&larr; Back</a></nav><article class="hentry"><header><h1 class="entry-title"><a href="/2011/07/25/pop-0.0.5">Pop 0.0.5</a></h1><time datetime="2011-07-25T01:07:00Z" pubdate="pubdate" class="updated">25 July 2011</time><p class="byline author vcard">by <span class="fn">Pop</span></p><div class="tags"><a href="/tags.html#releases">releases</a>, <a href="/tags.html#plugins">plugins</a></div></header><p>Pop 0.0.5 has been released.  This version introduces a plugin architecture and post-filters.</p>

<h2>Post-Filters</h2>

<p>A post-filter can alter HTML after it has been generated by the template engine.  The structure is the same as helpers and pre-filters.  Add a file to <code>_lib/post-filters.js</code>:</p>

<pre class="prettyprint lang-javascript">
module.exports = {
  /**
    * Converts Alex's name to something more suitable.
    *
    * @param {String} The HTML to transform
    * @return {String} The transformed HTML
    */
  myFilter: function(html) {
    return html.replace(/Alex/, 'Super Douche');
  }
};
</pre>

<h2>Using Plugins</h2>

<p>Plugins are bundles of helpers, pre-filters, and post-filters that are loaded using the config file.  Here's an example, from this site:</p>

<pre class="prettyprint lang-javascript">
{  "url": "http://popjs.com/"
 , "title": "Pop Blog"
 , "permalink": "/:year/:month/:day/:title"
 , "paginate": 10
 , "exclude": ["\\.swp"]
 , "require": ["pop-disqus"]
 , "autoGenerate": [{"feed": "feed.xml"}] }
</pre>

<p>The <code>require</code> property loads the plugin found in the CommonJS module <code>pop-disqus</code>.  This plugin is available through npm.</p>

<h2>Writing Plugins</h2>

<p>Create a CommonJS module with a suitable <code>package.json</code> that exports an object with one or more of these properties:</p>

<ul>
<li><code>helpers</code></li>
<li><code>filters</code></li>
<li><code>postFilters</code></li>
</ul>

<p>All the usual rules apply.  Get started by looking at <a href="https://github.com/alexyoung/pop-disqus">pop-disqus</a>.  Write tests, even if they're basic!</p>
</article>
<script type="text/javascript">var disqus_developer = 0;</script><script type="text/javascript">var disqus_shortname = 'popjs';(function () {var s = document.createElement('script'); s.async = true;s.src = 'http://disqus.com/forums/popjs/count.js';(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());</script><div id="disqus_thread"></div><script type="text/javascript">    var disqus_url = 'http://popjs.com/2011/07/25/pop-0.0.5/';    (function() {        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);    })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<footer><p class="copyright">Content &copy; Alex R. Young</p></footer></body></html>